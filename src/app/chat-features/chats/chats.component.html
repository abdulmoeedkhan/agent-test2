<div *ngIf="_socketService.conversations[0] != null" class="ef_container container-fluid p-0">
  <div id="content" class="h-100">

    <div id="main-content" class="h-100">
      <!--      <button color="primary" class="left-bar-trigger" (click)="barExpand = !barExpand" ><mat-icon>{{barExpand ? 'keyboard_arrow_left' : 'keyboard_arrow_right'}}</mat-icon></button>-->
      <mat-tab-group (selectedIndexChange)="onTabChange($event)" class="chat-tab-area h-100">

        <mat-tab  class="main-chat-tab h-100"
          *ngFor="let conversation of _socketService.conversations;">

          <div class="chat-contacts left-bar-contacts">
            <ng-template mat-tab-label>
              <span class="get-events">
                <div class="user-badge">
                  <circle-progress class="laft-bar-data" [percent]="100" [radius]="15" [outerStrokeWidth]="2"
                    [innerStrokeWidth]="2" [outerStrokeColor]="'#3f51b5'" [innerStrokeColor]="'#F3F6F8'" [space]=-1
                    [animation]="conversation.animation" [animationDuration]="600"
                    [title]="conversation.messages[conversation.messages.length -1].header.channelSession.associatedCustomer.firstName | slice :0 :2 |uppercase"
                    [titleFontSize]="10" [showSubtitle]="false" [showUnits]="false" [renderOnClick]="false">
                  </circle-progress>
                  <span class="badge1" [hidden]="conversation.unReadCount == 0">{{conversation.unReadCount}}</span>
                </div>
                <span class="user-name">{{conversation.messages[conversation.messages.length
                  -1].header.channelSession.associatedCustomer.firstName}}</span>
              </span>
            </ng-template>
          </div>
          <div class="chat-contents">
            <div class="main-tab-content">
              <app-interactions [conversation]="conversation"></app-interactions>
            </div>
          </div>
          <!-- row end -->
          <!-- <app-customer-info [conversation]="conversation"></app-customer-info> -->

        </mat-tab>
      </mat-tab-group>
    </div>
    <app-customer-info [currentTabIndex]="currentTabIndex"></app-customer-info>
  </div>
</div>

<div *ngIf="_socketService.conversations[0] == null" class="no-chat">
  NO CHAT AVAILABLE
</div>