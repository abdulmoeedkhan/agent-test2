<div class="main-notification-area">

  <!--  Push mode notifications-->
  <div class="notification-area" *ngFor="let request of pushModeRequests">
    <div class="row main-panel">
      <mat-card class="notification-panel mat-card">
        <mat-card-content
          [ngClass]="request.channelSession.customer.isAnonymous == true ? 'un-identified' : 'identified'"
          class="mat-card-content">
          <div class="chat-request">
            <p class="channel-icon"><img
                [src]="request.channelSession.channel.channelType.channelLogo | channelLogo | async">
            </p>
          </div>
          <div class="requested-name">
            <p matTooltip="{{request.channelSession.customer.firstName ? request.channelSession.customer.firstName : 'UNIDENTIFIED CUSTOMER' }}">{{request.channelSession.customer.firstName ? request.channelSession.customer.firstName : 'UNIDENTIFIED CUSTOMER' }}</p>
            <p *ngIf="request?.cisco_data">
              {{request.channelSession.channelData.channelCustomerIdentifier ?
              request.channelSession.channelData.channelCustomerIdentifier : 'N/A' }}</p>
          </div>
          <div class="notification-trigger">
            <button (click)="getTopicSubscription(request.conversationId,request.taskId,request?.cisco_data)"
              class="mat-flat-button" mat-button>Accept</button>
          </div>
        </mat-card-content>
      </mat-card>

    </div>
  </div>


  <!--  Pull mode notifications-->
  <div *ngIf="pullModeRequests.length > 0" class="pull-notification-main"
    [ngClass]="{'notification-area-main': notificationArea}">
    <div class="notify-inner">
      <div class="notification-area pull-request-notifications" *ngFor="let request of pullModeRequests">
        <div class="row main-panel m-0">
          <mat-card class="notification-panel mat-card">
            <mat-card-content class="mat-card-content identified">
              <div class="chat-request">
                <p class="channel-icon"><img
                    [src]="request.channelSession.channel.channelType.channelLogo | channelLogo | async"></p>
              </div>
              <div class="requested-name">
                <p>New Chat message from <span>{{request.channelSession.customer.firstName}}</span> in
                  <span>'{{_pullModeservice.listNames[request.listId] ? _pullModeservice.listNames[request.listId] :
                    '-'}}'</span>
                </p>
              </div>
              <div class="notification-trigger">

                <button (click)="removePullModeRequestFromRequestArray(request.id)" mat-icon-button
                  class="mat-flat-button" mat-button>
                  <mat-icon>close</mat-icon>
                </button>
              </div>
            </mat-card-content>
          </mat-card>

        </div>
      </div>
    </div>
    <button *ngIf="pullModeRequests.length > 1" (mouseenter)="notificationArea = true"
      (mouseleave)="notificationArea = false" (click)="pullModeRequests = []; "
      class="dismiss-notifications mat-flat-button" mat-button>Dismiss all
    </button>

  </div>

</div>
